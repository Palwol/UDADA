import java.util.*;

class Editer{
	Stack<String> left = new Stack<String>();
	Stack<String> right = new Stack<String>();
	
	public void L() {
		if(!left.empty()) {
			right.push(left.pop());
		}
	}
	public void D() {
		if(!right.empty()) {
			left.push(right.pop());
		}
	}
	public void B() {
		if(!left.empty())
			left.pop();
	}
	public void P(String s) {
		left.push(s);
	}
}

public class EditerTest {

	public static void main(String[] args) {
		Scanner sc = new Scanner(System.in);
		Editer editer = new Editer();
		
		String words = sc.nextLine();
		String[] chars = words.split("");
		for(String c : chars) {
			editer.P(c);
		}
		
		int n = sc.nextInt();
		sc.nextLine();
		
		for(int i=0; i<n; i++) {
			String cmd = sc.nextLine();
			if(cmd.contentEquals("L")) {
				editer.L();
			}
			else if(cmd.equals("D")) {
				editer.D();
			}
			else if(cmd.contentEquals("B")) {
				editer.B();
			}
			else {
				String[] put = cmd.split(" ");
				editer.P(put[1]);
			}
		}
		
		while(editer.left.empty() == false) {
			editer.L();
		}
		while(editer.right.empty() == false) {
			System.out.print(editer.right.pop());
		}
	}

}
